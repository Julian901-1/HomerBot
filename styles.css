    :root {
      --bg-primary: #0f172a;
      --text-primary: #f1f5f9;
      --text-secondary: rgba(241,245,249,0.8);
      --accent: #60a5fa;
      --accent-hover: #93c5fd;
      --success: #34d399;
      --warning: #fbbf24;
      --error: #f87171;
      --glass-bg: rgba(30,41,59,0.9);
      --glass-border: rgba(71,85,105,0.3);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif; 
      background: var(--bg-primary); 
      color: var(--text-primary); 
      -webkit-text-size-adjust: 100%;
    }
    .app-container { max-width: 430px; margin: 0 auto; min-height: 100vh; position: relative; }
    
    /* Header & Nav */
    .header { position: sticky; top: 0; z-index: 100; background: rgba(15,23,42,0.9); backdrop-filter: blur(20px); border-bottom: 1px solid var(--glass-border); padding: 12px 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
    .header-content { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-family: 'Comfortaa', cursive; font-size: 24px; color: var(--text-primary); }
    .profile-btn, .btn, .copy-btn, .quick-amount-btn, .method-card, .filter-chip { background: var(--glass-bg); border: 1px solid var(--glass-border); transition: all 0.2s ease; cursor: pointer; color: var(--text-primary); }
    .profile-btn:hover, .btn:hover:not(:disabled), .copy-btn:hover, .quick-amount-btn:hover, .method-card:not(.disabled):hover, .filter-chip:hover:not(.active) { background: rgba(255,255,255,0.4); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    .profile-btn { width: 40px; height: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: center; }
    .bottom-nav { position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 430px; background: var(--glass-bg); backdrop-filter: blur(20px); border-top: 1px solid var(--glass-border); padding: 12px 20px 20px; z-index: 100; border-radius: 24px 24px 0 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); }
/* Bottom nav — всегда горизонтально */
.nav-items {
  display: flex !important;
  flex-direction: row !important;
  justify-content: space-around;
  align-items: center;
  gap: 8px;
}

.nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  border-radius: 12px;
  opacity: .6;
  cursor: pointer;
  transition: transform .15s ease, opacity .2s ease, background .2s ease;
  flex: 0 0 auto;       /* не растягивать, не ломать ряд */
}

.nav-item:hover { transform: translateY(-2px); opacity: .9; }
.nav-item.active { opacity: 1; background: rgba(255,255,255,0.2); }
    .nav-icon { width: 24px; height: 24px; stroke: currentColor; fill: none; stroke-width: 2; }
    .nav-label { font-size: 11px; font-weight: 500; }
    
    /* Modals */
    .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(8px); z-index: 1000; display: none; align-items: flex-end; justify-content:center;}
    .modal-overlay.active { display: flex; }
    .modal { background: rgba(30,41,59,0.95); border-radius: 24px 24px 0 0; width: 100%; max-width: 430px; max-height: 90vh; overflow-y: auto; padding: 24px; animation: slideUp 0.3s ease; border-top: 1px solid var(--glass-border); box-shadow: 0 -4px 20px rgba(0,0,0,0.1); }
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    
    /* General */
    .page { display: none; padding: 20px 20px 120px; }
    .page.active { display: block; }
    .card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 20px; padding: 24px; margin-bottom: 16px; backdrop-filter: blur(10px); box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
    .glass-card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }

    /* Balance + stats (centered + autosize) */
    .balance-section { text-align: center; }
    .balance-label-container { display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 8px; position: relative;}
    .balance-label { font-size: 14px; color: var(--text-secondary); }
    .balance-main { font-size: 42px; white-space: nowrap; font-weight: 800; display:block; margin: 0 auto; line-height: 1.15; color: var(--text-primary); }
    .balance-currency { font-size: 14px; color: var(--text-secondary); font-weight: 600; cursor: pointer; position: relative; border-radius: 8px; padding: 2px 6px; }
    .currency-arrow { font-size: 10px; opacity: 0.7; margin-left: 4px; }
    .currency-dropdown { position: absolute; top: 100%; left: 50%; transform: translateX(-50%); margin-top: 8px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 12px; padding: 8px; display: none; z-index: 10; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .currency-dropdown.open { display: block; }
    .currency-option { padding: 8px 16px; cursor: pointer; border-radius: 8px; transition: background 0.2s; color: var(--text-primary); }
    .currency-option:hover { background: rgba(0,0,0,0.05); }
    .currency-option.active { background: var(--accent); color: white; }

    .balance-stats { display: flex; justify-content: space-between; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--glass-border); gap: 8px; }
    .balance-stat { flex: 1; display: flex; flex-direction: column; align-items: center; }
    .stat-label { font-size: 12px; color: var(--text-secondary); margin-bottom: 4px; }
    .stat-value { font-size: 16px; font-weight: 700; color: var(--text-primary); white-space: nowrap; line-height: 1.2; text-align: center; }
    .stat-positive { color: var(--success); }

    .btn-group { display: flex; gap: 12px; margin-bottom: 24px; }
    .btn { flex: 1; padding: 16px 24px; border-radius: 16px; font-size: 16px; font-weight: 700; color: var(--text-primary); border: 1px solid var(--glass-border); }
    .btn-primary { background: var(--accent); border-color: var(--accent) !important; color: white !important; }
/* Синий фон для активной primary-кнопки всегда поверх базового .btn */
.btn.btn-primary:not(:disabled) {
  background: var(--accent) !important;
  border-color: var(--accent) !important;
  color: #fff !important;
  box-shadow: 0 4px 12px rgba(76,139,245,0.3);
}

.btn.btn-primary:hover:not(:disabled) {
  background: var(--accent-hover) !important;
  transform: translateY(-1px);
}

.cur-sym { opacity: .7; margin-left: 4px; }
    .strategies-section h2 { font-size: 20px; font-weight: 700; margin-bottom: 16px; }
    .strategy-cards { display: flex; flex-direction: column; gap: 12px; }
    .strategy-card { cursor: pointer; }
    .strategy-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .strategy-name { font-size: 18px; font-weight: 700; }
    .strategy-rate { font-size: 24px; font-weight: 800; color: var(--accent); }
    .strategy-description { font-size: 14px; color: var(--text-secondary); margin-bottom: 16px; }
    .strategy-features { display: flex; gap: 8px; flex-wrap: wrap; }
    .feature-tag { padding: 4px 8px; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); border-radius: 8px; font-size: 12px; }
   
   /* New Investment Strategies Design */
   .strategy-layout {
     display: flex;
     flex-direction: row;
     gap: 20px;
     margin-top: 16px;
     align-items: flex-start;
   }
   .left-strategies {
     display: flex;
     flex-direction: column;
     gap: 16px;
   }
   .strategy-option {
     background: var(--glass-bg);
     border: 1px solid var(--glass-border);
     border-radius: 20px;
     width: 100px;
     height: 100px;
     cursor: pointer;
     transition: all 0.3s ease;
     box-shadow: 0 4px 12px rgba(0,0,0,0.08);
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: 32px;
     font-weight: 800;
     color: var(--accent);
   }
   .strategy-option:hover {
     transform: translateY(-2px);
     box-shadow: 0 8px 25px rgba(0,0,0,0.12);
   }
   .right-options {
     display: flex;
     flex-direction: column;
     gap: 16px;
   }
   .option-rectangle {
     background: var(--glass-bg);
     border: 1px solid var(--glass-border);
     border-radius: 20px;
     padding: 20px;
     box-shadow: 0 4px 12px rgba(0,0,0,0.08);
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: 16px;
     font-weight: 600;
     color: var(--text-primary);
     width: 100px;
     height: 158px;
     writing-mode: vertical-rl;
     text-orientation: mixed;
   }
   .option-tools {
     display: flex;
     flex-direction: row;
     gap: 16px;
     justify-content: center;
     flex-wrap: wrap;
   }
   .tool-item {
     display: flex;
     flex-direction: column;
     align-items: center;
     gap: 4px;
   }
   .tool-label {
     font-size: 12px;
     color: var(--text-secondary);
     text-align: center;
     max-width: 80px;
   }
   .tool-icon {
     font-size: 20px;
     transition: transform 0.2s ease;
     border-radius: 8px;
     padding: 8px;
     background: rgba(255,255,255,0.05);
   }
   .tool-icon:hover {
     transform: scale(1.1);
   }
   .rate-badge {
     font-size: 32px;
     font-weight: 800;
     color: var(--accent);
   }
   .lock-info {
     font-size: 14px;
     color: var(--text-secondary);
     margin: 8px 0;
   }
   .option-name {
     font-size: 18px;
     font-weight: 700;
     margin: 8px 0 4px;
   }
   .option-desc {
     font-size: 14px;
     color: var(--text-secondary);
     margin: 12px 0;
     line-height: 1.4;
   }
   .invest-btn {
     margin-top: 16px;
     width: 100%;
     font-size: 14px;
   }

   .composition-section {
     margin: 16px 0;
   }
   .composition-section h4 {
     font-size: 14px;
     font-weight: 600;
     margin-bottom: 16px;
     color: var(--text-primary);
   }

    .status { position:fixed; top:80px; right:20px; padding:8px 12px; border-radius:12px; background:var(--glass-bg); border:1px solid var(--glass-border); font-size:12px; backdrop-filter:blur(10px); z-index:9999; transform:translateX(130%); opacity:0; transition:transform .35s ease, opacity .35s ease; pointer-events:none; color: var(--text-primary); }
    .status.show { transform:translateX(0); opacity:1; }
    .status.loading { color:var(--warning); } .status.synced { color:var(--success); } .status.error { color:var(--error); }

    .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
    .modal-title { font-size: 20px; font-weight: 700; color: var(--text-primary); }
    .close-btn { background: var(--glass-bg); border: 1px solid var(--glass-border); width: 32px; height: 32px; border-radius: 8px; cursor: pointer; font-size: 18px; color: var(--text-primary); display: flex; align-items: center; justify-content: center; }

    .popup { position: fixed; left: 50%; bottom: 120px; transform: translateX(-50%); background: rgba(30,41,59,0.95); color: var(--text-primary); padding: 16px 20px; border-radius: 16px; font-size: 14px; z-index: 9999; max-width: 90vw; text-align: center; backdrop-filter: blur(10px); border: 1px solid var(--glass-border); white-space: pre-line; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }

    .filter-chips { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 16px; }
    .filter-chip { padding: 8px 16px; border-radius: 20px; font-size: 14px; }
    .filter-chip.active { background: var(--accent); color: white; border-color: var(--accent); }

    .amount-input, .input-field { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 12px; color: var(--text-primary); padding: 12px; width: 100%; }
    .amount-input { font-size: 24px; font-weight: 700; text-align: center; margin-bottom: 16px; }
    .quick-amounts { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin: 16px 0; }
    .quick-amount-btn { padding: 12px; border-radius: 12px; font-size: 14px; color: var(--text-primary); background: var(--glass-bg); border: 1px solid var(--glass-border); }

    .method-card { border-radius: 16px; padding: 20px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; background: var(--glass-bg); }
    .method-card.disabled { opacity: 0.5; cursor: not-allowed; }
    .method-info h3 { font-size: 16px; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
    .method-info p { font-size: 14px; color: var(--text-secondary); }

    .dev-notice { background: var(--warning); color: #000; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: 600; display: inline-block; margin-left: 8px; vertical-align: middle; }

    #devVersion {
      margin-top: 12px;
    }

    .copy-btn { border-radius: 8px; width: 48px; height: 48px; display:flex; align-items:center; justify-content:center; margin-left:8px; flex-shrink: 0;}

    .history-item.status-approved { background: rgba(52, 211, 153, 0.1); border-color: rgba(52, 211, 153, 0.3); }
    .history-item.status-pending { background: rgba(251, 191, 36, 0.1); border-color: rgba(251, 191, 36, 0.3); }
    .history-item.status-rejected, .history-item.status-canceled { background: rgba(248, 113, 113, 0.1); border-color: rgba(248, 113, 113, 0.3); }

    .bank-icons {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      gap: 12px;
      margin: 16px auto;
      width: fit-content;
      flex-wrap: nowrap;
    }
    .bank-icon.selected { border-color: var(--accent); }
    .bank-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      overflow: hidden;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      flex: 0 0 auto;
      transition: all 0.2s ease;
    }
    .bank-icon:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .bank-icon.selected { border-color: var(--accent); box-shadow: 0 0 0 2px rgba(76,139,245,0.2); }

.bank-icon img {
  width: 100%; height: 100%;
  object-fit: cover;
  display: block;
  border-radius: inherit;
}

    /* Custom select for withdrawal */
    .custom-select {
      position: relative;
      width: 100%;
      margin: 16px 0;
    }
    .select-trigger {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      padding: 12px;
      color: var(--text-primary);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
      transition: border-color 0.2s ease;
    }
    .select-trigger:hover {
      border-color: var(--accent);
    }
    .select-trigger::after {
      content: '▼';
      font-size: 12px;
      opacity: 0.7;
      transition: transform 0.2s ease;
    }
    .select-trigger.active::after {
      transform: rotate(180deg);
    }
    .select-options {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 10;
      display: none;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      backdrop-filter: blur(10px);
    }
    .select-options.active {
      display: block;
    }
    .select-option {
      padding: 12px;
      cursor: pointer;
      border-bottom: 1px solid var(--glass-border);
      transition: background 0.2s ease;
    }
    .select-option:last-child {
      border-bottom: none;
    }
    .select-option:hover {
      background: rgba(0,0,0,0.05);
    }
    .select-option.add-new {
      font-weight: 600;
      color: var(--accent);
    }

    /* Toggle Switch */
    .toggle-switch { position: relative; display: inline-block; width: 50px; height: 26px; }
    .toggle-switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--glass-bg); border: 1px solid var(--glass-border); transition: .4s; border-radius: 26px; }
    .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: #fff; transition: .4s; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
    input:checked + .slider { background-color: var(--accent); }
    input:checked + .slider:before { transform: translateX(24px); }

/* Спрятать полосу прокрутки у ВСЕХ .page, но оставить скролл */
.page {
  -ms-overflow-style: none;   /* IE/старый Edge */
  scrollbar-width: none;      /* Firefox */
}
.page::-webkit-scrollbar {
  display: none;              /* Chrome/Safari/новый Edge */
}
   
/* Белые иконки копирования/галочки */
.copy-btn, .copy-btn svg { color: var(--text-primary); stroke: var(--text-primary); }

/* Тумблер согласия по центру */
.agree-row {
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 14px; border-radius:12px;
  background: var(--glass-bg); border:1px solid var(--glass-border);
  margin: 8px 0 16px;
  color: var(--text-primary);
}
.agree-row a { color: var(--accent); text-decoration: underline; }

/* Большой спиннер на шаге 2 */
.spinner-big {
  width:56px; height:56px; border-radius:50%;
  border:4px solid rgba(0,0,0,0.1); border-top-color:var(--text-primary);
  margin: 0 auto;
  animation: sp 1s linear infinite;
}
@keyframes sp { to { transform: rotate(360deg); } }

/* Разрешаем белый текст на быстрых суммах */
.quick-amount-btn { color: var(--text-primary); }
   
    /* Disable scroll when modal is open */
    body.modal-open { overflow: hidden; }

    /* --- FIX: disabled-кнопка не должна менять внешний вид при нажатии/наведении --- */

 /* базовое состояние disabled */
 .btn:disabled,
 .btn[disabled],
 .btn.disabled {
   pointer-events: none;            /* не пускать события мыши/тача */
   cursor: not-allowed;
   opacity: 0.6;
   transform: none !important;
   filter: none !important;
 }

 /* полностью гасим все визуальные эффекты hover/active/focus у disabled */
 .btn:disabled:hover,
 .btn[disabled]:hover,
 .btn.disabled:hover,
 .btn:disabled:active,
 .btn[disabled]:active,
 .btn.disabled:active,
 .btn:disabled:focus,
 .btn[disabled]:focus,
 .btn.disabled:focus {
   background: inherit !important;  /* оставить тот же фон, что и был */
   box-shadow: none !important;
   transform: none !important;
   filter: none !important;
 }

 /* эффекты hover/active только для НЕ disabled */
 .btn:hover:not(:disabled):not(.disabled),
 .btn:focus-visible:not(:disabled):not(.disabled) {
   /* если у тебя есть ховер-эффекты — они сработают только для активных */
 }

 .btn:active:not(:disabled):not(.disabled),
 .btn.btn-primary:active:not(:disabled):not(.disabled) {
   /* если есть "нажатое" состояние — тоже только для активных */
 }

 /* для iOS/Android убираем серую вспышку при тапе */
 button, .btn { -webkit-tap-highlight-color: transparent; }

    /* Boot overlay */
    #boot-screen {
      position: fixed; inset: 0; background: var(--bg-primary); z-index: 9999;
      display: grid; place-items: center; opacity: 1; pointer-events: auto;
      transition: opacity .5s ease;
    }
    #boot-center { width: 90%; max-width: 420px; text-align: center; }
    #boot-title {
      font-size: 28px; font-weight: 800; letter-spacing: .5px;
      color: var(--text-primary); margin-bottom: 18px;
    }
    #boot-progress {
      width: 100%; height: 10px; border-radius: 999px;
      background: rgba(0,0,0,0.05); overflow: hidden; position: relative;
    }
    #boot-progress-fill {
      position: absolute; left: 0; top: 0; bottom: 0; width: 0%;
      background: linear-gradient(90deg, var(--accent), var(--accent-hover));
      border-radius: inherit; transition: width .4s ease; /* имитация "постепенно" */
    }
    #boot-hint { margin-top: 12px; color: var(--text-secondary); font-size: 13px; transition: opacity 0.5s ease; }

/* скрыть оверлей */
#boot-screen.hidden { opacity: 0; pointer-events: none; }

/* Попап статуса используем только для ошибок */
.status { display: none !important; } /* прячем старый статус-бар */

/* Глобально прячем полосы прокрутки (скролл остаётся колесом/тачем) */
html, body, .page, .modal, .modal .modal-content, #app, #root {
  -ms-overflow-style: none;     /* IE/старый Edge */
  scrollbar-width: none;        /* Firefox */
}
html::-webkit-scrollbar,
body::-webkit-scrollbar,
.page::-webkit-scrollbar,
.modal::-webkit-scrollbar,
*::-webkit-scrollbar {
  width: 0 !important;
  height: 0 !important;
  display: none !important;
}
    /* Символ валюты в статах — той же яркости, что и число */
.stat-value .cur-sym { opacity: 1 !important; color: currentColor !important; }
