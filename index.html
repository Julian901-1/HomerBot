<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>HomerBot ‚Äî –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ö–æ—à–µ–ª—ë–∫</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
<!-- Boot screen -->
<div id="boot-screen" role="status" aria-live="polite">
<div id="boot-center">
 <div id="boot-title">HomerBot</div>
 <div id="boot-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
   <div id="boot-progress-fill"></div>
 </div>
 <div id="boot-hint">–ì–æ—Ç–æ–≤–∏–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—É‚Ä¶</div>
</div>
</div>

 <main class="app-container">
     <header class="header">
       <div class="header-content">
         <div id="appBrand" style="opacity:0">HomerBot</div>
         <button class="profile-btn" onclick="openModal('profile')" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å">
           <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
         </button>
       </div>
     </header>
     <div id="status" class="status" role="status" aria-live="polite"></div>

     <section id="pageContainer">
            <div class="page active" id="pageHome">
                <div class="card">
                    <div class="balance-section">
                        <div class="balance-label-container">
                            <div class="balance-label">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                            <div class="balance-currency" onclick="toggleCurrencyDropdown(event)">
                                <span id="currentCurrency">RUB</span><span class="currency-arrow">‚ñº</span>
                                <div class="currency-dropdown" id="currencyDropdown">
                                    <div class="currency-option active" onclick="selectCurrency('RUB', event)">RUB</div>
                                    <div class="currency-option" onclick="selectCurrency('USD', event)">USD</div>
                                    <div class="currency-option" onclick="selectCurrency('EUR', event)">EUR</div>
                                </div>
                            </div>
                        </div>
                        <div class="balance-main" id="balanceValue">‚Äî</div>
                        <div class="balance-stats">
                            <div class="balance-stat">
                              <div class="stat-label">–°–≤–æ–±–æ–¥–Ω–æ</div>
                              <div class="stat-value" id="freeBalance">‚Äî</div>
                            </div>
                            <div class="balance-stat">
                              <div class="stat-label">–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ</div>
                              <div class="stat-value stat-positive" id="investedBalance">‚Äî</div>
                            </div>
                            <div class="balance-stat">
                              <div class="stat-label">–î–æ—Ö–æ–¥ —Å–µ–≥–æ–¥–Ω—è</div>
                              <div class="stat-value stat-positive" id="todayIncome">‚Äî</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                   <button class="btn btn-primary" onclick="openModal('deposit')">–î–µ–ø–æ–∑–∏—Ç</button>
                   <button class="btn" onclick="openModal('withdraw')">–í—ã–≤–æ–¥</button>
                </div>

                <div class="strategies-section">
                    <h2>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>
                    <div class="strategy-layout">
                      <div class="left-strategies">
                        <div class="strategy-option" onclick="openModal('strategy16')">
                          <div class="rate-badge">16%</div>
                        </div>
                        <div class="strategy-option" onclick="openModal('strategy17')">
                          <div class="rate-badge">17%</div>
                        </div>
                        <div class="strategy-option" onclick="openModal('strategy18')">
                          <div class="rate-badge">18%</div>
                        </div>
                      </div>
                      <div class="right-options">
                        <div class="option-rectangle" onclick="openModal('eveningPercent')">
                          <span>–í–µ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç</span>
                        </div>
                        <div class="option-rectangle">
                          <span>–ö—ç—à–±—ç–∫ AUTO</span>
                        </div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="page" id="pagePortfolio">
              <div class="card">
                <h2 style="margin-bottom: 16px;">–ú–æ–π –ø–æ—Ä—Ç—Ñ–µ–ª—å</h2>
                <div id="portfolio-list"></div>
                <p id="portfolio-placeholder" style="text-align: center; padding: 40px 0;">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π.</p>
              </div>
            </div>

            <div class="page" id="pageHistory">
              <div class="card">
                <h2 style="margin-bottom: 16px;">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
                <div class="filter-chips">
                  <div class="filter-chip active" onclick="applyHistoryFilter(this, 'all')">–í—Å–µ</div>
                  <div class="filter-chip" onclick="applyHistoryFilter(this, 'deposit')">–î–µ–ø–æ–∑–∏—Ç—ã</div>
                  <div class="filter-chip" onclick="applyHistoryFilter(this, 'withdraw')">–í—ã–≤–æ–¥—ã</div>
                  <div class="filter-chip" onclick="applyHistoryFilter(this, 'invest')">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</div>
                </div>
                <div id="history-list"></div>
                <button class="btn" id="load-more-history" style="width:100%; margin-top:16px; display:none;">–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë</button>
                <p id="history-placeholder" style="text-align: center; padding: 40px 0;">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø—É—Å—Ç–∞.</p>
              </div>
            </div>
        </section>

        <nav class="bottom-nav" role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
          <div class="nav-items">
            <div class="nav-item active" onclick="openPage('Home')" role="button" tabindex="0" aria-label="–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9,22 9,12 15,12 15,22"/></svg>
              <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
            </div>
            <div class="nav-item" onclick="openPage('Portfolio')" role="button" tabindex="0" aria-label="–ü–æ—Ä—Ç—Ñ–µ–ª—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
              <span class="nav-label">–ü–æ—Ä—Ç—Ñ–µ–ª—å</span>
            </div>
            <div class="nav-item" onclick="openPage('History')" role="button" tabindex="0" aria-label="–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/></svg>
              <span class="nav-label">–ò—Å—Ç–æ—Ä–∏—è</span>
            </div>
          </div>
        </div>
        </nav>
    </main>

    <!-- Profile -->
    <div id="modalProfile" class="modal-overlay" role="dialog" aria-labelledby="profile-title" aria-modal="true">
      <div class="modal">
        <div class="modal-header"><h2 id="profile-title" class="modal-title">–ü—Ä–æ—Ñ–∏–ª—å</h2><button class="close-btn" onclick="closeModal('profile')" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å">‚úï</button></div>
        <div class="card" style="text-align: center; margin: 0;">
          <h3 id="profileUsername">‚Äî</h3>
          <p style="color: var(--text-secondary); font-size: 14px;">Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</p>
        </div>
        <div style="margin-top: 16px;">
          <div class="method-card disabled"><div class="method-info"><h3>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å <span class="dev-notice">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span></h3><p>KYC, –ü–∏–Ω-–∫–æ–¥, –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞</p></div></div>
          <div class="method-card disabled"><div class="method-info"><h3>–Ø–∑—ã–∫ <span class="dev-notice">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span></h3><p>–†—É—Å—Å–∫–∏–π, English</p></div></div>
          <div class="method-card" onclick="window.open('https://docs.google.com/document/d/1Rv3N2iTgwHXhTkSgv-BwKLrekVpZtoGfU_ct2lDw00g/edit?usp=sharing', '_blank')"><div class="method-info"><h3>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3><p>–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p></div></div>
          <div class="method-card" onclick="openModal('settings')"><div class="method-info"><h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3><p>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p></div></div>
        </div>
      </div>
    </div>

<!-- Deposit -->
<div id="modalDeposit" class="modal-overlay" role="dialog" aria-labelledby="deposit-title" aria-modal="true">
  <div class="modal">
    <div class="modal-header">
      <div>
        <h2 id="deposit-title" class="modal-title">–î–µ–ø–æ–∑–∏—Ç</h2>
        <div style="font-size:12px;color:var(--text-secondary);margin-top:4px;">–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É –¥–µ–ø–æ–∑–∏—Ç–∞ (100 - 10 –º–ª–Ω. ‚ÇΩ)</div>
      </div>
      <button class="close-btn" onclick="closeModal('deposit')" aria-label="–ó–∞–∫—Ä—ã—Ç—å –¥–µ–ø–æ–∑–∏—Ç">‚úï</button>
    </div>

    <!-- –®–∞–≥ 1: –≤–≤–æ–¥ —Å—É–º–º—ã + —Å–æ–≥–ª–∞—Å–∏–µ -->
    <div id="deposit-step1">
      <input type="text" id="depositAmount" class="amount-input" placeholder="0" oninput="formatAmountInput(this); updateDepositBtnState();" inputmode="decimal">
      <div class="quick-amounts">
        <button class="quick-amount-btn" onclick="setDepositAmount(1000)">1 000</button>
        <button class="quick-amount-btn" onclick="setDepositAmount(5000)">5 000</button>
        <button class="quick-amount-btn" onclick="setDepositAmount(10000)">10 000</button>
        <button class="quick-amount-btn" onclick="setDepositAmount(25000)">25 000</button>
        <button class="quick-amount-btn" onclick="setDepositAmount(50000)">50 000</button>
        <button class="quick-amount-btn" onclick="setDepositAmount(100000)">100 000</button>
      </div>

      <!-- –¢—É–º–±–ª–µ—Ä —Å–æ–≥–ª–∞—Å–∏—è –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
      <div class="agree-row">
        <span>–°–æ–≥–ª–∞—Å–µ–Ω —Å&nbsp;<a href="https://docs.google.com/document/d/1Rv3N2iTgwHXhTkSgv-BwKLrekVpZtoGfU_ct2lDw00g/edit?usp=sharing" target="_blank">—É—Å–ª–æ–≤–∏—è–º–∏</a></span>
        <label class="toggle-switch">
          <input type="checkbox" id="depositAgree">
          <span class="slider"></span>
        </label>
      </div>
<button class="btn btn-primary" id="depositConfirmBtn" style="width:100%" disabled>
  –ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç –ø–æ –°–ë–ü
</button>
    </div>

    <!-- –®–∞–≥ 2: –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ + –Ω–æ–º–µ—Ä –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ + –æ—Ç–º–µ–Ω–∞ -->
<div id="deposit-step2" style="display:none;">
  <div class="spinner-big" aria-label="–ó–∞–≥—Ä—É–∑–∫–∞"></div>

  <div class="glass-card" style="margin-top:16px;">
    <!-- –°—É–º–º–∞ -->
    <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px;">
      <input type="text" id="deposit-amount-display" class="input-field" value="‚Äî" readonly
             style="text-align:center;font-size:18px;font-weight:700;">
      <button class="copy-btn" onclick="const val = document.getElementById('deposit-amount-display').value; const clean = val.replace(/\s/g, '').replace(',', '.').replace(/[^\d.]/g, ''); copyToClipboard(clean, this)">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>

    <!-- –ö–æ–¥ –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
    <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px;">
      <input type="text" id="deposit-short-display" class="input-field" value="‚Äî" readonly
             style="text-align:center;font-size:18px;font-weight:700;">
      <button class="copy-btn" onclick="copyToClipboard((document.getElementById('deposit-short-display').value||'').replace('#',''), this)">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>

    <div style="font-size:13px;color:var(--text-secondary);text-align:center;margin-bottom:10px;">
      <b>–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û</b> —É–∫–∞–∂–∏—Ç–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Ä–µ–≤–æ–¥—É –¥–∞–Ω–Ω—ã–π –∫–æ–¥, —á—Ç–æ–±—ã –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
    </div>

    <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
    <div style="display:flex; gap:8px; align-items:center; margin-top:4px;">
      <input type="text" class="input-field" value="+7 (916) 643-54-94" readonly
             style="text-align:center;font-size:18px;font-weight:700;">
      <button class="copy-btn" onclick="copyToClipboard('+79166435494', this)">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
      </button>
    </div>

    <div style="font-size:13px;color:var(--text-secondary);margin-top:12px;">
      –ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–æ –°–ë–ü (–¢-–ë–∞–Ω–∫) –ø–æ –¥–∞–Ω–Ω–æ–º—É –Ω–æ–º–µ—Ä—É –¥–ª—è –∑–∞—á–∏—Å–ª–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á—ë—Ç.
      –ü–æ—Å–ª–µ –∑–∞—á–∏—Å–ª–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –±–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–∏—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫.
    </div>
  </div>

  <button class="btn" onclick="cancelDeposit()" style="width:100%; margin-top:16px;">
    –û—Ç–º–µ–Ω–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç
  </button>
</div>
    </div> <!-- / .modal -->
</div> <!-- / #modalDeposit -->

    <!-- Withdraw -->
    <div id="modalWithdraw" class="modal-overlay" role="dialog" aria-labelledby="withdraw-title" aria-modal="true">
      <div class="modal">
        <div class="modal-header"><h2 id="withdraw-title" class="modal-title">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h2><button class="close-btn" onclick="closeModal('withdraw')" aria-label="–ó–∞–∫—Ä—ã—Ç—å –≤—ã–≤–æ–¥">‚úï</button></div>

        <div id="withdraw-method-choice" style="display:none;">
<div class="method-card" onclick="selectWithdrawMethod('sbp')">
  <div class="method-info"><h3>–ü–µ—Ä–µ–≤–æ–¥ –ø–æ –°–ë–ü</h3></div>
</div>
          <div class="method-card disabled"><div class="method-info"><h3>–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ <span class="dev-notice">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span></h3></div></div>
          <div class="method-card disabled"><div class="method-info"><h3>–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã <span class="dev-notice">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span></h3></div></div>
        </div>

        <div id="withdraw-view" style="display:none;">
          <p style="text-align: center; color: var(--text-secondary);">–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–∞: <b id="withdrawAvailable">0.00 ‚ÇΩ</b></p>
          <div id="withdraw-recipient-select" class="custom-select">
            <div class="select-trigger" id="select-trigger">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</div>
            <div class="select-options" id="select-options"></div>
          </div>
          <div style="display: flex; gap: 8px; align-items: center; margin-bottom: 16px;">
            <input type="text" class="amount-input" id="withdrawAmount" placeholder="0" oninput="formatAmountInput(this); updateWithdrawBtnState(); updateWithdrawWarning();" inputmode="decimal" style="margin-bottom: 0; flex: 1;">
            <button class="max-amount-btn" onclick="setMaxWithdrawAmount()" aria-label="–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É" title="–í—Å—è –¥–æ—Å—Ç—É–ø–Ω–∞—è —Å—É–º–º–∞">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
              </svg>
            </button>
          </div>

          <div id="withdraw-warning" style="display:none; margin: 16px 0; padding: 12px; border: 1px solid rgba(220, 38, 38, 0.5); border-radius: 8px; background: rgba(220, 38, 38, 0.05);">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                <line x1="12" y1="9" x2="12" y2="13"></line>
                <line x1="12" y1="17" x2="12.01" y2="17"></line>
              </svg>
              <span style="color: #dc2626; font-weight: 600;">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</span>
            </div>
            <div id="withdraw-warning-content" style="color: var(--text-secondary); font-size: 14px; line-height: 1.5;"></div>
          </div>

          <button class="btn btn-primary" id="withdrawConfirmBtn" style="width:100%">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å</button>
        </div>

        <div id="withdraw-add-sbp-form" style="display:none;">
          <input type="tel" class="input-field" id="withdraw-sbp-phone" style="text-align:center; margin-bottom: 16px;" placeholder="+7 (___) ___-__-__" oninput="formatPhoneInput(this)" inputmode="numeric">
          <p style="text-align:center; color: var(--text-secondary); font-size: 14px;">–í—ã–±–µ—Ä–∏—Ç–µ –±–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è</p>
<div class="bank-icons">
  <div class="bank-icon" data-bank="–ê–ª—å—Ñ–∞">
    <img src="./assets/alphabank.jpg" alt="–ê–ª—å—Ñ–∞" onerror="this.replaceWith(Object.assign(document.createElement('span'),{textContent:'–ê–ª—å—Ñ–∞'}))">
  </div>
  <div class="bank-icon" data-bank="–°–±–µ—Ä–±–∞–Ω–∫">
    <img src="./assets/sberbank.jpg" alt="–°–±–µ—Ä–±–∞–Ω–∫" onerror="this.replaceWith(Object.assign(document.createElement('span'),{textContent:'–°–±–µ—Ä–±–∞–Ω–∫'}))">
  </div>
  <div class="bank-icon" data-bank="–¢–ë–∞–Ω–∫">
    <img src="./assets/tbank.jpg" alt="–¢-–ë–∞–Ω–∫" onerror="this.replaceWith(Object.assign(document.createElement('span'),{textContent:'–¢-–ë–∞–Ω–∫'}))">
  </div>
</div>
          <button class="btn btn-primary" id="save-sbp-btn" style="width:100%; margin-top: 16px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
      </div>
    </div>
    
    <!-- Strategies -->
<div id="modalStrategy16" class="modal-overlay" role="dialog" aria-labelledby="strategy16-title" aria-modal="true">
  <div class="modal">
    <div class="modal-header">
      <h2 id="strategy16-title" class="modal-title">–õ–∏–∫–≤–∏–¥–Ω—ã–π</h2>
      <button class="close-btn" onclick="closeModal('strategy16')" aria-label="–ó–∞–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é">‚úï</button>
    </div>
    <div class="glass-card" style="margin-bottom:12px;">
      <p style="color:var(--text-secondary);font-size:14px;">
        ‚Ä¢ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ <span style="color: #4ade80;">–µ–∂–µ–¥–Ω–µ–≤–Ω–æ</span>, –≤—ã–≤–æ–¥ –±–µ–∑ —à—Ç—Ä–∞—Ñ–æ–≤.<br>
        ‚Ä¢ –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è.<br>
        ‚Ä¢ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è ¬´–ø–æ–¥—É—à–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏¬ª ‚Äî –º–æ–∂–Ω–æ <span style="color: #4ade80;">–ø–æ–ø–æ–ª–Ω–∏—Ç—å</span>/<span style="color: #dc2626;">–≤—ã–≤–µ—Å—Ç–∏</span> –≤ –ª—é–±–æ–π –¥–µ–Ω—å.
      </p>
      <div class="composition-section">
        <h4>–°–æ—Å—Ç–∞–≤:</h4>
        <div class="option-tools">
          <div class="tool-item">
            <span class="tool-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="5" width="18" height="14" rx="2"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
                <line x1="7" y1="15" x2="7" y2="15"/>
                <line x1="11" y1="15" x2="11" y2="15"/>
              </svg>
            </span>
            <span class="tool-label">–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –≤–∫–ª–∞–¥—ã</span>
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" onclick="openNewInvestment('16')" style="width:100%;">–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>
</div>
    <div id="modalStrategy17" class="modal-overlay" role="dialog" aria-labelledby="strategy17-title" aria-modal="true">
  <div class="modal">
    <div class="modal-header">
      <h2 id="strategy17-title" class="modal-title">–°—Ç–∞–±–∏–ª—å–Ω—ã–π</h2>
      <button class="close-btn" onclick="closeModal('strategy17')" aria-label="–ó–∞–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é">‚úï</button>
    </div>
    <div class="glass-card" style="margin-bottom:12px;">
      <p style="color:var(--text-secondary);font-size:14px;">
        ‚Ä¢ <span style="color: #3b82f6;">–ó–∞–º–æ—Ä–æ–∑–∫–∞</span> –Ω–∞ 30 –¥–Ω–µ–π, —á–∞—Å—Ç–∏—á–Ω—ã–π –¥–æ—Å—Ä–æ—á–Ω—ã–π <span style="color: #dc2626;">–≤—ã–≤–æ–¥</span> —Å –ø–æ—Ç–µ—Ä–µ–π –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞.<br>
        ‚Ä¢ –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å—é –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é —Å—Ä–µ–¥—Å—Ç–≤.
      </p>
      <div class="composition-section">
        <h4>–°–æ—Å—Ç–∞–≤:</h4>
        <div class="option-tools">
          <div class="tool-item">
            <span class="tool-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="5" width="18" height="14" rx="2"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
                <line x1="7" y1="15" x2="7" y2="15"/>
                <line x1="11" y1="15" x2="11" y2="15"/>
              </svg>
            </span>
            <span class="tool-label">–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –≤–∫–ª–∞–¥—ã</span>
          </div>
          <div class="tool-item">
            <span class="tool-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
              </svg>
            </span>
            <span class="tool-label">–¶–§–ê —É–º–µ—Ä–µ–Ω–Ω–æ–≥–æ —Ä–∏—Å–∫–∞</span>
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" onclick="openNewInvestment('17')" style="width:100%;">–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>
</div>
   <div id="modalStrategy18" class="modal-overlay" role="dialog" aria-labelledby="strategy18-title" aria-modal="true">
  <div class="modal">
     <div class="modal-header">
       <h2 id="strategy18-title" class="modal-title">–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π</h2>
       <button class="close-btn" onclick="closeModal('strategy18')" aria-label="–ó–∞–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é">‚úï</button>
     </div>
    <div class="glass-card" style="margin-bottom:12px;">
      <p style="color:var(--text-secondary);font-size:14px;">
        ‚Ä¢ <span style="color: #3b82f6;">–ó–∞–º–æ—Ä–æ–∑–∫–∞</span> –Ω–∞ 90 –¥–Ω–µ–π, –¥–æ—Å—Ä–æ—á–Ω—ã–π <span style="color: #dc2626;">–≤—ã–≤–æ–¥</span> ‚Äî —Å –ø–æ—Ç–µ—Ä–µ–π –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤.<br>
        ‚Ä¢ –î–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–∞–≤–∫—É –∏ –≥–æ—Ç–æ–≤ –∫ –æ–∂–∏–¥–∞–Ω–∏—é.
      </p>
      <div class="composition-section">
        <h4>–°–æ—Å—Ç–∞–≤:</h4>
        <div class="option-tools">
          <div class="tool-item">
            <span class="tool-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="5" width="18" height="14" rx="2"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
                <line x1="7" y1="15" x2="7" y2="15"/>
                <line x1="11" y1="15" x2="11" y2="15"/>
              </svg>
            </span>
            <span class="tool-label">–í–∫–ª–∞–¥—ã</span>
          </div>
          <div class="tool-item">
            <span class="tool-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
              </svg>
            </span>
            <span class="tool-label">–¶–§–ê</span>
          </div>
          <div class="tool-item">
            <span class="tool-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
              </svg>
            </span>
            <span class="tool-label">–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–π–º—ã</span>
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" onclick="openNewInvestment('18')" style="width:100%;">–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>
</div>
    <!-- New Investment -->
    <div id="modalNewInvestment" class="modal-overlay" role="dialog" aria-labelledby="new-investment-title" aria-modal="true">
      <div class="modal">
        <div class="modal-header">
          <h2 id="new-investment-title" class="modal-title">–ù–æ–≤–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è</h2>
          <button class="close-btn" onclick="closeModal('newInvestment')" aria-label="–ó–∞–∫—Ä—ã—Ç—å –Ω–æ–≤—É—é –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—é">‚úï</button>
        </div>
        <div class="input-field" id="niStrategyReadonly" style="text-align:center;font-weight:700;margin-bottom:12px;">‚Äî</div>
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 12px;">–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: <b id="investAvailable">‚Äî</b></p>
        <div style="display: flex; gap: 8px; align-items: center; margin-bottom: 16px;">
          <input type="text" class="amount-input" id="niAmount" placeholder="0" oninput="formatAmountInput(this); updateInvestButtonState();" inputmode="decimal" style="margin-bottom: 0; flex: 1;">
          <button class="max-amount-btn" onclick="setMaxInvestAmount()" aria-label="–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É" title="–í—Å—è –¥–æ—Å—Ç—É–ø–Ω–∞—è —Å—É–º–º–∞">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
          </button>
        </div>
        <button class="btn btn-primary" style="width:100%; margin-top: 0;" id="niConfirmBtn" disabled>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
      </div>
    </div>

    <!-- Settings -->
    <div id="modalSettings" class="modal-overlay" role="dialog" aria-labelledby="settings-title" aria-modal="true">
      <div class="modal">
        <div class="modal-header">
          <h2 id="settings-title" class="modal-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
          <button class="close-btn" onclick="closeModal('settings')" aria-label="–ó–∞–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏">‚úï</button>
        </div>
        <div style="text-align: center; margin: 16px 0; padding: 16px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 12px;">
          <div style="color: var(--text-secondary); font-size: 12px; margin-bottom: 4px;">–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
          <div style="font-size: 18px; font-weight: 700;">v1.0</div>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 12px; margin-bottom: 12px;">
          <label for="devModeToggle">–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</label>
          <label class="toggle-switch"><input type="checkbox" id="devModeToggle"><span class="slider"></span></label>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 12px;">
          <label for="autoRenewToggle">–ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π</label>
          <label class="toggle-switch"><input type="checkbox" id="autoRenewToggle" checked><span class="slider"></span></label>
        </div>
        <div style="font-size: 13px; color: var(--text-secondary); margin-top: 12px; padding: 12px; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px;">
          –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ "–°—Ç–∞–±–∏–ª—å–Ω—ã–π" –∏ "–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π" –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–ª–µ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–æ—Ç –∂–µ —Å—Ä–æ–∫ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ –∑–∞–º–æ—Ä–æ–∑–∫–∏. –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∫ –≤—ã–≤–æ–¥—É. –í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –∑–∞ –¥–µ–Ω—å –¥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è.
        </div>
      </div>
    </div>

    <!-- Evening Percent Modal -->
    <div id="modalEveningPercent" class="modal-overlay" role="dialog" aria-labelledby="evening-percent-title" aria-modal="true">
      <div class="modal">
        <div class="modal-header">
          <h2 id="evening-percent-title" class="modal-title">–í–µ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç</h2>
          <button class="close-btn" onclick="closeModal('eveningPercent')" aria-label="–ó–∞–∫—Ä—ã—Ç—å –≤–µ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç">‚úï</button>
        </div>

        <div class="glass-card" style="margin-bottom: 16px;">
          <p style="color: var(--text-secondary); font-size: 14px; line-height: 1.6;">
            –í–∞—à–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–µ –Ω–∞ –≤—Å–µ—Ö —Å—á–µ—Ç–∞—Ö –¢-–ë–∞–Ω–∫–∞, —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤–∞—Å –¥–∞–∂–µ –Ω–æ—á—å—é. –í—ã–±—Ä–∞–≤ –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞–ª–∏, –æ–Ω–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –Ω–∞ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç –Ω–∞ —ç—Ç–æ –≤—Ä–µ–º—è –∏ –¥–µ–Ω—å–≥–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤–∞—Å, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤—ã —Å–ø–∏—Ç–µ.
          </p>
        </div>

        <!-- T-Bank Connection Status -->
        <div id="tbankConnectionStatus" class="glass-card" style="margin-bottom: 16px; display: none;">
          <div style="display: flex; align-items: center; justify-content: space-between;">
            <div style="display: flex; align-items: center; gap: 12px;">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#34d399" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
              </svg>
              <div>
                <div style="font-weight: 600;">–¢-–ë–∞–Ω–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω</div>
                <div style="font-size: 12px; color: var(--text-secondary);" id="tbankAccountsInfo">‚Äî</div>
              </div>
            </div>
            <button class="btn" style="padding: 8px 16px; font-size: 13px;" onclick="disconnectTBank()">–û—Ç–∫–ª—é—á–∏—Ç—å</button>
          </div>
        </div>

        <!-- T-Bank Connection Form -->
        <div id="tbankConnectionForm" class="glass-card" style="margin-bottom: 16px;">
          <h3 style="margin-bottom: 12px; font-size: 16px;">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¢-–ë–∞–Ω–∫–∞</h3>

          <div id="tbankStep1" style="display: block;">
            <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: 16px;">
              –î–ª—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –¢-–ë–∞–Ω–∫–∞
            </p>

            <input type="tel" class="input-field" id="tbankPhone" placeholder="+7 (___) ___-__-__"
                   style="margin-bottom: 12px;" oninput="formatPhoneInput(this)" inputmode="numeric">

            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 16px; padding: 10px; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px;">
              üîí –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä Puppeteer
            </div>

            <button class="btn btn-primary" id="tbankConnectBtn" style="width: 100%;" onclick="connectTBank()">
              –ü–æ–¥–∫–ª—é—á–∏—Ç—å –¢-–ë–∞–Ω–∫
            </button>
          </div>

          <div id="tbankStepSMS" style="display: none;">
            <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: 16px;">
              –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ –°–ú–° –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
            </p>

            <input type="text" class="input-field" id="tbank2FACode" placeholder="–ö–æ–¥ –∏–∑ –°–ú–°"
                   style="margin-bottom: 16px;"
                   maxlength="6" inputmode="numeric">

            <button class="btn btn-primary" id="tbankVerifyBtn" style="width: 100%;" onclick="submitTBankSMS()">
              –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
            </button>
          </div>

          <div id="tbankStepCard" style="display: none;">
            <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: 16px;">
              –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –≤–∞—à–µ–π –∫–∞—Ä—Ç—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
            </p>

            <input type="text" class="input-field" id="tbankCardNumber" placeholder="0000 0000 0000 0000"
                   style="margin-bottom: 16px;"
                   maxlength="19" inputmode="numeric" oninput="formatCardInput(this)">

            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 16px; padding: 10px; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px;">
              –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            </div>

            <button class="btn btn-primary" id="tbankCardBtn" style="width: 100%;" onclick="submitTBankCard()">
              –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
            </button>
          </div>

          <div id="tbankStepSecurityQuestion" style="display: none;">
            <p id="tbankQuestionText" style="color: var(--text-secondary); font-size: 13px; margin-bottom: 16px; font-weight: 500;">
              <!-- –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </p>

            <input type="text" class="input-field" id="tbankSecurityAnswer" placeholder="–í–∞—à –æ—Ç–≤–µ—Ç"
                   style="margin-bottom: 16px;">

            <button class="btn btn-primary" id="tbankAnswerBtn" style="width: 100%;" onclick="submitTBankSecurityAnswer()">
              –û—Ç–≤–µ—Ç–∏—Ç—å
            </button>
          </div>

          <div id="tbankConnecting" style="display: none; text-align: center; padding: 20px;">
            <div class="spinner-big" aria-label="–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"></div>
            <p style="color: var(--text-secondary); margin-top: 12px;">–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –¢-–ë–∞–Ω–∫—É...</p>
          </div>
        </div>

        <!-- Time Configuration (shown only after T-Bank is connected) -->
        <div id="timeConfigSection" style="display: none;">
          <div class="glass-card" style="margin-bottom: 16px;">
            <h3 style="margin-bottom: 16px; font-size: 16px;">–†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è</h3>

            <div class="time-config-container">
              <div class="time-selector">
                <label for="eveningStartTime" style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px;">–ù–∞—á–∞–ª–æ</label>
                <input type="range" id="eveningStartTime" min="0" max="23" value="22" oninput="updateEveningTimeDisplay()">
                <div id="eveningStartTimeDisplay" class="time-display">22:00</div>
              </div>

              <div class="time-separator">‚Äî</div>

              <div class="time-selector">
                <label for="eveningEndTime" style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px;">–ö–æ–Ω–µ—Ü</label>
                <input type="range" id="eveningEndTime" min="0" max="23" value="6" oninput="updateEveningTimeDisplay()">
                <div id="eveningEndTimeDisplay" class="time-display">06:00</div>
              </div>
            </div>

            <div style="margin-top: 12px; padding: 10px; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px; font-size: 13px; color: var(--text-secondary);">
              –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –±—É–¥–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è ¬±20 –º–∏–Ω—É—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
            </div>
          </div>

          <div class="agree-row" style="margin-bottom: 16px;">
            <span>–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å <a href="https://docs.google.com/document/d/1Rv3N2iTgwHXhTkSgv-BwKLrekVpZtoGfU_ct2lDw00g/edit?usp=sharing" target="_blank">—É—Å–ª–æ–≤–∏—è–º–∏</a></span>
            <label class="toggle-switch">
              <input type="checkbox" id="eveningPercentAgree" onchange="updateEveningPercentBtnState()">
              <span class="slider"></span>
            </label>
          </div>

          <button class="btn btn-primary" id="eveningPercentApplyBtn" style="width: 100%;" disabled onclick="applyEveningPercent()">
            –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫
          </button>

          <button class="btn" id="forceTransferBtn" style="width: 100%; margin-top: 12px; background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.5);" onclick="forceTransferToSaving()">
            –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç
          </button>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
