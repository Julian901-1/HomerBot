# T-Bank Automation Service Configuration

# Server Configuration
PORT=3001
NODE_ENV=development

# Encryption (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
ENCRYPTION_SECRET_KEY=876ea3bf2dfe0017ef614017245119bdd35e3a1da99dcac334f5844f83411dbe

# Google Apps Script Integration
GOOGLE_SHEETS_SCRIPT_URL=https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec

# Security
SESSION_SECRET=your-random-session-secret

# Puppeteer Configuration
PUPPETEER_HEADLESS=true
PUPPETEER_TIMEOUT=30000

# T-Bank URLs
TBANK_LOGIN_URL=https://www.tbank.ru/auth/login/
TBANK_MAIN_URL=https://www.tbank.ru/accounts/

# Session Keep-Alive Settings
# KEEP_ALIVE_INTERVAL: How often to perform keep-alive actions (in milliseconds)
# Default: 180000 (3 minutes) - Recommended: 120000-180000 (2-3 minutes)
# Lower values = more aggressive keep-alive but higher resource usage
# IMPORTANT: T-Bank timeout is ~10 minutes, so keep-alive should run every 2-3 min
KEEP_ALIVE_INTERVAL=180000

# SESSION_CHECK_INTERVAL: How often to check for expired sessions (in milliseconds)
SESSION_CHECK_INTERVAL=60000

# Session Persistence Settings
# Sessions are ETERNAL - no expiration limit
# Sessions will be restored regardless of age, ensuring continuous operation

# How often to save session state during keep-alive (every N keep-alive cycles)
# Default: 3 (saves session every 3rd keep-alive = every 15 min if KEEP_ALIVE_INTERVAL=300000)
SESSION_SAVE_INTERVAL=3

# Debug
DEBUG=false
